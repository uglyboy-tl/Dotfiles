- defaults:
    link:
        create: true
        relink: true

- clean:
    ~/:
        force: true
    ~/.local/bin:
        force: true
    $XDG_CONFIG_HOME:
        recursive: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [git submodule sync, Syncing submodule remotes]
    - [git submodule foreach git pull, Updating submodule contents]

- link:
    # BASH
    #~/.bashrc: config/bashrc

    # Scripts
    ~/.local/bin/:
        create: true
        glob: true
        path: scripts/*
        relink: true

    # VIM
    $XDG_CONFIG_HOME/vim/vimrc: config/vim/vimrc
    $XDG_CONFIG_HOME/vim/vimrc.plug: config/vim/vimrc.plug
    $XDG_CONFIG_HOME/vim/plug.vim: config/vim/vim-plug/plug.vim

    ~/.xsessionrc: config/environment
    $XDG_CONFIG_HOME/environment: config/environment

    # ZSH
    $XDG_CONFIG_HOME/zsh/.zshrc:
        path: config/zsh/zshrc.zsh
        force: true
    $XDG_CONFIG_HOME/zsh/zshrc.alias: config/zsh/aliases.zsh
    $XDG_CONFIG_HOME/starship.toml: config/starship.toml
    $XDG_CONFIG_HOME/zsh/zgen: config/zsh/zgen

    # SYSTEM
    ## GIT
    $XDG_CONFIG_HOME/git/config: config/git/config
    ## Fontconfig
    $XDG_CONFIG_HOME/fontconfig/fonts.conf: config/fonts.conf
    ## FastFetch
    $XDG_CONFIG_HOME/fastfetch/config.jsonc: config/fastfetch/config.jsonc

    # OTHERS
    ## LF
    $XDG_CONFIG_HOME/lf: config/lf
    ## Newsboat
    $XDG_CONFIG_HOME/newsboat/config: config/newsboat/config
    ## Zathura
    $XDG_CONFIG_HOME/zathura/zathurarc: config/zathurarc
    ## MUTT
    $XDG_CONFIG_HOME/offlineimap/config: config/mutt/offlineimaprc
    $XDG_CONFIG_HOME/mutt/muttrc: config/mutt/muttrc
    $XDG_CONFIG_HOME/mutt/mailboxes: config/mutt/mailboxes
    $XDG_CONFIG_HOME/mutt/mailcap: config/mutt/mailcap
    ## Calendar
    ### vdirsyncer
    $XDG_CONFIG_HOME/vdirsyncer/config: config/calendar/vdirsyncer
    ### khal
    $XDG_CONFIG_HOME/khal/config: config/calendar/khal

    ## PIP
    $XDG_CONFIG_HOME/pip/pip.conf: config/sources/pip.conf
    ## UV
    $XDG_CONFIG_HOME/uv/uv.toml: config/sources/uv.toml

    # X
    ## Xresources
    $XDG_CONFIG_HOME/X11/Xresources: config/X11/Xresources
    $XDG_CONFIG_HOME/X11/Xresources.d/rxvt-unicode: config/X11/rxvt-unicode

    ## BSPWM
    $XDG_CONFIG_HOME/bspwm/bspwmrc: config/bspwmrc
    $XDG_CONFIG_HOME/sxhkd/sxhkdrc: config/sxhkdrc
    $XDG_CONFIG_HOME/picom/picom.conf: config/picom.conf
    $XDG_CONFIG_HOME/polybar: config/polybar
    $XDG_CONFIG_HOME/rofi: config/rofi
    $XDG_CONFIG_HOME/dunst/dunstrc: config/dunstrc

    ## FCITX5-RIME
    $XDG_DATA_HOME/fcitx5/rime/default.custom.yaml: config/fcitx5-rime/default.custom.yaml
    $XDG_DATA_HOME/fcitx5/rime/luna_pinyin.custom.yaml: config/fcitx5-rime/luna_pinyin.custom.yaml

    ## Alacritty
    $XDG_CONFIG_HOME/alacritty/alacritty.toml: config/alacritty/alacritty.toml
    $XDG_CONFIG_HOME/alacritty/Nord.toml: config/alacritty/nord.toml
    $XDG_CONFIG_HOME/alacritty/keybindings.toml: config/alacritty/keybindings.toml

    ## Dynamic wallpaper
    $XDG_DATA_HOME/dynamic-wallpaper: data/dynamic-wallpaper

    ## MPV
    $XDG_CONFIG_HOME/mpv/mpv.conf: config/mpv/mpv.conf
    $XDG_CONFIG_HOME/mpv/scripts/thumbfast.lua: config/mpv/thumbfast/thumbfast.lua
    $XDG_CONFIG_HOME/mpv/fonts: config/mpv/uosc/src/fonts
    $XDG_CONFIG_HOME/mpv/scripts/uosc/char-conv: config/mpv/uosc/src/uosc/char-conv
    $XDG_CONFIG_HOME/mpv/scripts/uosc/elements: config/mpv/uosc/src/uosc/elements
    $XDG_CONFIG_HOME/mpv/scripts/uosc/intl: config/mpv/uosc/src/uosc/intl
    $XDG_CONFIG_HOME/mpv/scripts/uosc/lib: config/mpv/uosc/src/uosc/lib
    $XDG_CONFIG_HOME/mpv/scripts/uosc/main.lua: config/mpv/uosc/src/uosc/main.lua

- crontab:
  - time: 0 * * * *
    command: env PATH=/usr/local/bin:/usr/bin:/home/uglyboy/.local/bin DISPLAY=:0 DESKTOP_SESSION=lightdm-xsession DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/1000/bus" dwall.sh -s lakeside
    platform: linux
