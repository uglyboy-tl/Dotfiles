---
description: 从会话中提取学习点，写入 AGENTS.md
---

分析本次会话，提取非显而易见的学习点写入 AGENTS.md。

## AGENTS.md 层级

AGENTS.md 可存在于任意目录层级，agent 读取文件时会自动加载父目录的 AGENTS.md。放置位置：

- 全局设置 → `~/.config/opencode/AGENTS.md`
- 项目级 → 项目根目录 `AGENTS.md`
- 模块级 → 相关代码最近的目录

## 什么值得记录

- 文件/模块间的隐式依赖关系
- 与表面代码不符的执行路径
- 非显而易见的配置、环境变量
- 错误信息误导时的调试发现
- API/工具的特性和 workaround
- 未写入 README 的构建/测试命令
- 架构决策和约束
- 必须一起修改的文件

## 什么不要记录

- 文档中已有的明显事实
- 标准语言/框架行为
- AGENTS.md 中已有的内容
- 冗长的解释
- 会话特定的临时细节

## 流程

1. 回顾会话中的发现、多次尝试的错误、意外关联
2. 确定每条学习点的适用范围
3. 读取相关层级的现有 AGENTS.md
4. 创建或更新 AGENTS.md
5. 每条学习点保持 1-3 行

完成后总结：更新了哪些 AGENTS.md，每文件新增几条。

<input>$ARGUMENTS</input>